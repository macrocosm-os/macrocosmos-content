---
description: Subnet 1 incentive overview
---

# Subnet 1 Incentive Mechanism

## Apex Incentive Mechanism

### Overview

The Apex subnet implements a novel generative-adversarial-like incentive mechanism where miners compete in two distinct but complementary roles: **generators** and **discriminators**. This design creates a competitive environment that incentivizes both high-quality text generation and accurate classification abilities.

### Core Architecture

#### Dual-Role System

Every miner in the Apex network serves a dual purpose:

1. **Generator**: Produces text responses to queries
2. **Discriminator**: Classifies whether a given response was generated by a miner or validator

This dual-role approach ensures that successful miners must excel at both generating high-quality content and accurately distinguishing between miner-generated and validator-generated responses.

#### Validator Control Mechanism

The validator orchestrates the competition through a sophisticated pipeline that determines:

* When to query miners as generators vs. using validator references
* Which responses discriminators should evaluate
* The ground truth for scoring discriminator performance

### Competition Dynamics

#### Task Distribution

The validator uses two key parameters to balance the competitive dynamics:

* **Reference Rate** (default: 50%): Determines the probability that a task will involve:
  * **Generator Task** (50% probability): Miners generate responses, discriminators classify miner outputs
  * **Reference Task** (50% probability): Validator generates reference, discriminators classify validator output
* **Redundancy Rate** (default: 10%): When generator tasks are selected, this determines the probability that a validator reference is also generated for comparison as a method of quality tracking

#### Ground Truth Mechanism

The ground truth system works as follows:

1. **Generator Tasks** (`ground_truth = 1`):
   * Miners generate responses to a query
   * Discriminators receive one randomly selected miner response
   * Correct discriminator answer: `"1"` (indicating miner-generated content)
2. **Reference Tasks** (`ground_truth = 0`):
   * Validator generates a high-quality reference using deep research
   * Discriminators receive the validator reference
   * Correct discriminator answer: `"0"` (indicating validator-generated content)

#### Deep Research Reference Generation

When the validator generates references, it uses a sophisticated deep research process:

```
System Prompt: "You are Deep Researcher, a meticulous assistant. For each claim you make, 
provide step-by-step reasoning and cite exact source numbers from the provided context."

Process: Research Question → Web Search → LLM Analysis → Cited Response
```

This ensures validator references are high-quality, well-researched, and properly cited, creating a strong baseline for discriminators to learn from.

### Scoring Mechanism

#### Discriminator Scoring

Discriminators are scored based on binary classification accuracy:

* **Correct Classification**: `score = 1.0 / number_of_discriminators`
* **Incorrect Classification**: `score = 0.0`

The score is distributed equally among all discriminators that participate in a task, rewarding only those who correctly identify the source of the content.

#### Generator Scoring

Generator scoring uses a zero-sum approach:

```
generator_score = 1.0 - sum(discriminator_scores)
```

This creates direct competition:

* If discriminators correctly identify a generator's output, the generator receives a lower score
* If discriminators fail to identify a generator's output, the generator receives a higher score

#### Aggregate Reward Calculation

The system maintains a 22-hour rolling window for score aggregation:

1. **Data Collection**: All discriminator results and generator scores are logged with timestamps
2. **Score Aggregation**: Scores are summed across all tasks within the 22-hour window
3. **Weight Setting**: Aggregated scores are converted to network weights via Bittensor's weight-setting mechanism
4. **Database Cleanup**: Results older than 22 hours are purged to maintain the rolling window

### Economic Incentives

#### For Generators

**Objective**: Produce responses that are indistinguishable from high-quality validator references

**Strategy**:

* Generate human-like, well-reasoned responses
* Match the style and quality of validator deep research outputs
* Avoid patterns that discriminators can easily identify as miner-generated

**Reward**: Higher scores when discriminators fail to correctly classify their output as miner-generated

#### For Discriminators

**Objective**: Accurately distinguish between miner-generated and validator-generated content

**Strategy**:

* Learn to identify quality markers in validator references (citations, reasoning depth, etc.)
* Detect patterns or weaknesses in miner-generated content
* Maintain high accuracy across diverse query types

**Reward**: Points for each correct classification (miner vs. validator content)

### Competitive Balance

#### Generator-Discriminator Arms Race

This mechanism creates a healthy competitive dynamic:

1. **Generator Improvement**: As generators improve and become harder to distinguish from validators, discriminators must become more sophisticated
2. **Discriminator Advancement**: As discriminators become better at identification, generators must produce even higher quality content
3. **Quality Convergence**: The system naturally drives miner-generated content toward validator-quality standards

#### Network Effects

* **Rising Quality Standards**: The bar for acceptable content continuously rises
* **Specialization Incentives**: Miners may specialize in either generation or discrimination based on their strengths
* **Collaborative Competition**: Success requires excelling at both roles, encouraging well-rounded capabilities

### Technical Implementation

#### Request Handling

Miners receive requests through a standardized API:

**Generator Request**:

```json
{
  "step": "generator",
  "query": "Your input query here"
}
```

**Discriminator Request**:

```json
{
  "step": "discriminator", 
  "query": "Input query",
  "generation": "Response to classify"
}
```

#### Response Format

* **Generators**: Return text response directly
* **Discriminators**: Return `"0"` (validator) or `"1"` (miner) classification

#### Sampling and Querying

The validator uses a `MinerSampler` that:

* Samples miners from the network metagraph
* Supports multiple sampling modes (random, sequential)
* Queries multiple miners simultaneously for each task
* Tracks miner information and performance metrics

### Security and Anti-Gaming Measures

#### Randomization

* Random selection of which miners participate as generators vs. discriminators
* Random timing of reference vs. generator tasks prevents gaming
* Random selection of which generator response is used for discrimination

#### Ground Truth Protection

* Ground truth is determined server-side by the validator
* Miners cannot know in advance whether they're evaluating miner or validator content
* Reference generation uses sophisticated deep research, making it difficult to replicate

#### Temporal Scoring Window

The 22-hour scoring window prevents:

* Short-term gaming strategies
* Reward manipulation through timing attacks
* Excessive focus on individual high-value tasks

### Development Considerations

#### Current Implementation Status

The current codebase includes a dummy miner implementation that:

* Returns placeholder responses for generation tasks
* Provides random classifications for discrimination tasks
* Serves as an educational template for production miners

#### Production Requirements

For effective participation, miners must implement:

1. **Advanced Generation**: High-quality language models or API integrations
2. **Sophisticated Discrimination**: ML models or heuristics for content classification
3. **Robust Error Handling**: Network failures, malformed requests, etc.
4. **Performance Optimization**: Fast response times to maximize participation

### Conclusion

The Apex incentive mechanism creates a sophisticated competitive environment that drives continuous improvement in both content generation and quality assessment. By requiring miners to excel in both generator and discriminator roles, the system ensures that network participants develop comprehensive AI capabilities while maintaining high standards for content quality.

The zero-sum competition between generators and discriminators, combined with the high-quality validator references, creates powerful incentives for miners to approach or exceed validator-level performance, ultimately benefiting the entire network with increasingly sophisticated AI capabilities.
